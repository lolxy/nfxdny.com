(function(a){a.anythingSlider=function(b,c){var d=this,e;d.el=b,d.jQueryel=a(b).addClass("anythingBase").wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>'),d.jQueryel.data("AnythingSlider",d),d.init=function(){d.options=e=a.extend({},a.anythingSlider.defaults,c),d.initialized=!1,a.isFunction(e.onBeforeInitialize)&&d.jQueryel.bind("before_initialize",e.onBeforeInitialize),d.jQueryel.trigger("before_initialize",d),d.jQuerywrapper=d.jQueryel.parent().closest("div.anythingSlider").addClass("anythingSlider-"+e.theme),d.jQuerywindow=d.jQueryel.closest("div.anythingWindow"),d.win=window,d.jQuerywin=a(d.win),d.jQuerycontrols=a('<div class="anythingControls"></div>').appendTo(e.appendControlsTo&&a(e.appendControlsTo).length?a(e.appendControlsTo):d.jQuerywrapper),d.jQuerystartStop=a('<a href="#" class="start-stop"></a>'),e.buildStartStop&&d.jQuerystartStop.appendTo(e.appendStartStopTo&&a(e.appendStartStopTo).length?a(e.appendStartStopTo):d.jQuerycontrols),d.jQuerynav=a('<ul class="thumbNav" />').appendTo(e.appendNavigationTo&&a(e.appendNavigationTo).length?a(e.appendNavigationTo):d.jQuerycontrols),d.flag=!1,d.playing=e.autoPlay,d.slideshow=!1,d.hovered=!1,d.panelSize=[],d.currentPage=e.startPanel=parseInt(e.startPanel,10)||1,e.changeBy=parseInt(e.changeBy,10)||1,d.adj=e.infiniteSlides?0:1,d.width=d.jQueryel.width(),d.height=d.jQueryel.height(),d.outerPad=[d.jQuerywrapper.innerWidth()-d.jQuerywrapper.width(),d.jQuerywrapper.innerHeight()-d.jQuerywrapper.height()],e.playRtl&&d.jQuerywrapper.addClass("rtl"),e.expand&&(d.jQueryouter=d.jQuerywrapper.parent(),d.jQuerywindow.css({width:"100%",height:"100%"}),d.checkResize()),e.buildStartStop&&d.buildAutoPlay(),e.buildArrows&&d.buildNextBackButtons(),e.autoPlay||(e.autoPlayLocked=!1),d.updateSlider(),d.jQuerylastPage=d.jQuerycurrentPage,d.runTimes=a("div.anythingSlider").index(d.jQuerywrapper)+1,d.regex=new RegExp("panel"+d.runTimes+"-(\\d+)","i"),d.runTimes===1&&d.makeActive(),a.isFunction(a.easing[e.easing])||(e.easing="swing"),e.pauseOnHover&&d.jQuerywrapper.hover(function(){d.playing&&(d.jQueryel.trigger("slideshow_paused",d),d.clearTimer(!0))},function(){d.playing&&(d.jQueryel.trigger("slideshow_unpaused",d),d.startStop(d.playing,!0))}),d.setCurrentPage(d.gotoHash()||e.startPage,!1),d.slideControls(!1),d.jQuerywrapper.bind("mouseenter mouseleave",function(a){d.hovered=a.type==="mouseenter"?!0:!1,d.slideControls(d.hovered,!1)}),a(document).keyup(function(a){if(e.enableKeyboard&&d.jQuerywrapper.is(".activeSlider")&&!a.target.tagName.match("TEXTAREA|INPUT|SELECT")){if(!e.vertical&&(a.which===38||a.which===40))return;switch(a.which){case 39:case 40:d.goForward();break;case 37:case 38:d.goBack()}}}),d.jQueryitems.delegate("a","focus.AnythingSlider",function(b){var c=a(this).closest(".panel"),f=d.jQueryitems.index(c)+d.adj;d.jQueryitems.find(".focusedLink").removeClass("focusedLink"),a(this).addClass("focusedLink"),d.jQuerywindow.scrollLeft(0),f!==-1&&(f>=d.currentPage+e.showMultiple||f<d.currentPage)&&(d.gotoPage(f),b.preventDefault())});var b="slideshow_paused slideshow_unpaused slide_init slide_begin slideshow_stop slideshow_start initialized swf_completed".split(" ");a.each("onShowPause onShowUnpause onSlideInit onSlideBegin onShowStop onShowStart onInitialized onSWFComplete".split(" "),function(c,f){a.isFunction(e[f])&&d.jQueryel.bind(b[c],e[f])}),a.isFunction(e.onSlideComplete)&&d.jQueryel.bind("slide_complete",function(){setTimeout(function(){e.onSlideComplete(d)},0)}),d.initialized=!0,d.jQueryel.trigger("initialized",d),d.startStop(d.playing)},d.updateSlider=function(){d.jQueryel.children(".cloned").remove(),d.jQuerynav.empty(),d.currentPage=d.currentPage||1,d.jQueryitems=d.jQueryel.children(),d.pages=d.jQueryitems.length,d.dir=e.vertical?"top":"left",e.showMultiple=e.vertical?1:parseInt(e.showMultiple,10)||1,e.navigationSize=e.navigationSize===!1?0:parseInt(e.navigationSize,10)||0,e.showMultiple>1&&(e.showMultiple>d.pages&&(e.showMultiple=d.pages),d.adjustMultiple=e.infiniteSlides&&d.pages>1?0:e.showMultiple-1,d.pages=d.jQueryitems.length-d.adjustMultiple),d.jQuerycontrols.add(d.jQuerynav).add(d.jQuerystartStop).add(d.jQueryforward).add(d.jQueryback)[d.pages<=1?"hide":"show"](),d.pages>1&&d.buildNavigation(),e.infiniteSlides&&d.pages>1&&(d.jQueryel.prepend(d.jQueryitems.filter(":last").clone().addClass("cloned")),e.showMultiple>1?d.jQueryel.append(d.jQueryitems.filter(":lt("+e.showMultiple+")").clone().addClass("cloned multiple")):d.jQueryel.append(d.jQueryitems.filter(":first").clone().addClass("cloned")),d.jQueryel.find(".cloned").each(function(){a(this).find("a,input,textarea,select,button,area").attr("disabled","disabled"),a(this).find("[id]").andSelf().removeAttr("id")})),d.jQueryitems=d.jQueryel.children().addClass("panel"+(e.vertical?" vertical":"")),d.setDimensions(),e.resizeContents?(d.jQueryitems.css("width",d.width),d.jQuerywrapper.css("width",d.getDim(d.currentPage)[0]).add(d.jQueryitems).css("height",d.height)):d.jQuerywin.load(function(){d.setDimensions()}),d.currentPage>d.pages&&(d.currentPage=d.pages),d.setCurrentPage(d.currentPage,!1),d.jQuerynav.find("a").eq(d.currentPage-1).addClass("cur")},d.buildNavigation=function(){if(e.buildNavigation&&d.pages>1){var b,c;d.jQueryitems.filter(":not(.cloned)").each(function(f){var g=f+1;b=(g===1?"first":"")+(g===d.pages?"last":""),c=a('<a class="panel'+g+'" href="#"><span></span></a>').wrap('<li class="'+b+'" />'),d.jQuerynav.append(c.parent()),a.isFunction(e.navigationFormatter)?(b=e.navigationFormatter(g,a(this)),c.find("span").css("visibility")==="hidden"&&c.addClass(e.tooltipClass).attr("title",b)):b=g,c.bind(e.clickControls,function(a){!d.flag&&e.enableNavigation&&(d.flag=!0,setTimeout(function(){d.flag=!1},100),d.gotoPage(g),e.hashTags&&d.setHash(g)),a.preventDefault()}).find("span").html(b)}),!!e.navigationSize&&e.navigationSize<d.pages&&(d.jQuerycontrols.find(".anythingNavWindow").length||d.jQuerynav.before('<ul><li class="prev"><a href="#"><span>'+e.backText+"</span></a></li></ul>").after('<ul><li class="next"><a href="#"><span>'+e.forwardText+"</span></a></li></ul>").wrap('<div class="anythingNavWindow"></div>'),d.navWidths=d.jQuerynav.find("li").map(function(){return a(this).innerWidth()+Math.ceil(parseInt(a(this).find("span").css("left"),10)/2||0)}).get(),d.navLeft=1,d.jQuerynav.width(d.navWidth(1,d.pages+1)+5),d.jQuerycontrols.find(".anythingNavWindow").width(d.navWidth(1,e.navigationSize+1)).end().find(".prev,.next").bind(e.clickControls,function(b){d.flag||(d.flag=!0,setTimeout(function(){d.flag=!1},200),d.navWindow(d.navLeft+e.navigationSize*(a(this).is(".prev")?-1:1))),b.preventDefault()}))}},d.navWidth=function(a,b){var c,e=Math.min(a,b),f=Math.max(a,b),g=0;for(c=e;c<f;c++)g+=d.navWidths[c-1]||0;return g},d.navWindow=function(a){if(!!e.navigationSize&&e.navigationSize<d.pages&&d.navWidths){var b=d.pages-e.navigationSize+1;a=a<=1?1:a>1&&a<b?a:b,a!==d.navLeft&&(d.jQuerycontrols.find(".anythingNavWindow").animate({scrollLeft:d.navWidth(1,a),width:d.navWidth(a,a+e.navigationSize)},{queue:!1,duration:e.animationTime}),d.navLeft=a)}},d.buildNextBackButtons=function(){d.jQueryforward=a('<span class="arrow_pro forward"><a href="#"><span>'+e.forwardText+"</span></a></span>"),d.jQueryback=a('<span class="arrow_pro back"><a href="#"><span>'+e.backText+"</span></a></span>"),d.jQueryback.bind(e.clickBackArrow,function(a){e.enableArrows&&!d.flag&&(d.flag=!0,setTimeout(function(){d.flag=!1},100),d.goBack()),a.preventDefault()}),d.jQueryforward.bind(e.clickForwardArrow,function(a){e.enableArrows&&!d.flag&&(d.flag=!0,setTimeout(function(){d.flag=!1},100),d.goForward()),a.preventDefault()}),d.jQueryback.add(d.jQueryforward).find("a").bind("focusin focusout",function(){a(this).toggleClass("hover")}),d.jQueryback.appendTo(e.appendBackTo&&a(e.appendBackTo).length?a(e.appendBackTo):d.jQuerywrapper),d.jQueryforward.appendTo(e.appendForwardTo&&a(e.appendForwardTo).length?a(e.appendForwardTo):d.jQuerywrapper),d.jQueryarrowWidth=d.jQueryforward.width()},d.buildAutoPlay=function(){d.jQuerystartStop.html("<span>"+(d.playing?e.stopText:e.startText)+"</span>").bind(e.clickSlideshow,function(a){e.enableStartStop&&(d.startStop(!d.playing),d.makeActive(),d.playing&&!e.autoPlayDelayed&&d.goForward(!0)),a.preventDefault()}).bind("focusin focusout",function(){a(this).toggleClass("hover")})},d.checkResize=function(a){clearTimeout(d.resizeTimer),d.resizeTimer=setTimeout(function(){var b=d.jQueryouter.width()-d.outerPad[0],c=(d.jQueryouter[0].tagName==="BODY"?d.jQuerywin.height():d.jQueryouter.height())-d.outerPad[1];if(d.width*e.showMultiple!==b||d.height!==c)d.setDimensions(),d.gotoPage(d.currentPage,d.playing,null,-1);typeof a=="undefined"&&d.checkResize()},500)},d.setDimensions=function(){var b,c,f,g,h=0,i={width:"100%",height:"100%"},j=e.showMultiple>1?d.width||d.jQuerywindow.width()/e.showMultiple:d.jQuerywindow.width(),k=d.jQuerywin.width();e.expand&&(b=d.jQueryouter.width()-d.outerPad[0],d.height=c=d.jQueryouter.height()-d.outerPad[1],d.jQuerywrapper.add(d.jQuerywindow).add(d.jQueryitems).css({width:b,height:c}),d.width=j=e.showMultiple>1?b/e.showMultiple:b),d.jQueryitems.each(function(l){g=a(this),f=g.children(),e.resizeContents?(b=d.width,c=d.height,g.css({width:b,height:c}),f.length&&(f[0].tagName==="EMBED"&&f.attr(i),f[0].tagName==="OBJECT"&&f.find("embed").attr(i),f.length===1&&f.css(i))):(b=g.width()||d.width,f.length===1&&b>=k&&(b=f.width()>=k?j:f.width(),f.css("max-width",b)),g.css("width",b),c=f.length===1?f.outerHeight(!0):g.height(),c<=d.outerPad[1]&&(c=d.height),g.css("height",c)),d.panelSize[l]=[b,c,h],h+=e.vertical?c:b}),d.jQueryel.css(e.vertical?"height":"width",h)},d.getDim=function(a){if(d.pages<1||isNaN(a))return[d.width,d.height];a=e.infiniteSlides&&d.pages>1?a:a-1;var b,c=d.panelSize[a][0],f=d.panelSize[a][1];if(e.showMultiple>1)for(b=1;b<e.showMultiple;b++)c+=d.panelSize[(a+b)%e.showMultiple][0],f=Math.max(f,d.panelSize[a+b][1]);return[c,f]},d.goForward=function(a){d.gotoPage(d.currentPage+e.changeBy*(e.playRtl?-1:1),a)},d.goBack=function(a){d.gotoPage(d.currentPage+e.changeBy*(e.playRtl?1:-1),a)},d.gotoPage=function(b,c,f,g){c!==!0&&(c=!1,d.startStop(!1),d.makeActive()),/^[#|.]/.test(b)&&a(b).length&&(b=a(b).closest(".panel").index()+d.adj),e.changeBy!==1&&(b<0&&(b+=d.pages),b>d.pages&&(b-=d.pages));if(d.pages<=1)return;d.jQuerylastPage=d.jQuerycurrentPage,typeof b!="number"&&(b=e.startPanel,d.setCurrentPage(b));if(c&&e.isVideoPlaying(d))return;d.exactPage=b,b>d.pages+1-d.adj&&(b=!e.infiniteSlides&&!e.stopAtEnd?1:d.pages),b<d.adj&&(b=!e.infiniteSlides&&!e.stopAtEnd?d.pages:1),e.infiniteSlides||(d.exactPage=b),d.currentPage=b>d.pages?d.pages:b<1?1:d.currentPage,d.jQuerycurrentPage=d.jQueryitems.eq(d.currentPage-d.adj),d.targetPage=b===0?d.pages:b>d.pages?1:b,d.jQuerytargetPage=d.jQueryitems.eq(d.targetPage-1),g=g||e.animationTime,g>=0&&d.jQueryel.trigger("slide_init",d),d.slideControls(!0,!1),c!==!0&&(c=!1),(!c||e.stopAtEnd&&b===d.pages)&&d.startStop(!1),g>=0&&d.jQueryel.trigger("slide_begin",d),setTimeout(function(a){e.resizeContents||(a=d.getDim(b),d.jQuerywrapper.filter(":not(:animated)").animate({width:a[0]||d.width,height:a[1]||d.height},{queue:!1,duration:g<0?0:g,easing:e.easing})),a={},a[d.dir]=-d.panelSize[e.infiniteSlides&&d.pages>1?b:b-1][2],d.jQueryel.filter(":not(:animated)").animate(a,{queue:!1,duration:g,easing:e.easing,complete:function(){d.endAnimation(b,f,g)}})},parseInt(e.delayBeforeAnimate,10)||0)},d.endAnimation=function(a,b,c){a===0?(d.jQueryel.css(d.dir,-d.panelSize[d.pages][2]),a=d.pages):a>d.pages&&(d.jQueryel.css(d.dir,-d.panelSize[1][2]),a=1),d.exactPage=a,d.setCurrentPage(a,!1),d.jQueryitems.removeClass("activePage").eq(a-d.adj).addClass("activePage"),d.hovered||d.slideControls(!1),c>=0&&d.jQueryel.trigger("slide_complete",d),typeof b=="function"&&b(d),e.autoPlayLocked&&!d.playing&&setTimeout(function(){d.startStop(!0)},e.resumeDelay-(e.autoPlayDelayed?e.delay:0))},d.setCurrentPage=function(a,b){a=parseInt(a,10);if(d.pages<1||a===0||isNaN(a))return;a>d.pages+1-d.adj&&(a=d.pages-d.adj),a<d.adj&&(a=1),e.buildNavigation&&d.jQuerynav.find(".cur").removeClass("cur").end().find("a").eq(a-1).addClass("cur"),!e.infiniteSlides&&e.stopAtEnd&&(d.jQuerywrapper.find("span.forward")[a===d.pages?"addClass":"removeClass"]("disabled").end().find("span.back")[a===1?"addClass":"removeClass"]("disabled"),a===d.pages&&d.playing&&d.startStop());if(!b){var c=d.getDim(a);d.jQuerywrapper.css({width:c[0],height:c[1]}).add(d.jQuerywindow).scrollLeft(0),d.jQueryel.css(d.dir,-d.panelSize[e.infiniteSlides&&d.pages>1?a:a-1][2])}d.currentPage=a,d.jQuerycurrentPage=d.jQueryitems.removeClass("activePage").eq(a-d.adj).addClass("activePage")},d.makeActive=function(){d.jQuerywrapper.is(".activeSlider")||(a(".activeSlider").removeClass("activeSlider"),d.jQuerywrapper.addClass("activeSlider"))},d.gotoHash=function(){var b=d.win.location.hash,c=b.indexOf("&"),f=b.match(d.regex);return f===null&&!/^#&/.test(b)&&!/#!?\//.test(b)?(b=b.substring(0,c>=0?c:b.length),f=a(b).length&&a(b).closest(".anythingBase")[0]===d.el?a(b).closest(".panel").index():null):f!==null&&(f=e.hashTags?parseInt(f[1],10):null),f},d.setHash=function(a){var b="panel"+d.runTimes+"-",c=d.win.location.hash;typeof c!="undefined"&&(d.win.location.hash=c.indexOf(b)>0?c.replace(d.regex,b+a):c+"&"+b+a)},d.slideControls=function(a){var b=a?"slideDown":"slideUp",c=a?0:e.animationTime,f=a?e.animationTime:0,g=a?1:0,h=a?0:1;e.toggleControls&&d.jQuerycontrols.stop(!0,!0).delay(c)[b](e.animationTime/2).delay(f),e.buildArrows&&e.toggleArrows&&(!d.hovered&&d.playing&&(h=1,g=0),d.jQueryforward.stop(!0,!0).delay(c).animate({right:h*d.jQueryarrowWidth,opacity:g},e.animationTime/2),d.jQueryback.stop(!0,!0).delay(c).animate({left:h*d.jQueryarrowWidth,opacity:g},e.animationTime/2))},d.clearTimer=function(a){d.timer&&(d.win.clearInterval(d.timer),!a&&d.slideshow&&(d.jQueryel.trigger("slideshow_stop",d),d.slideshow=!1))},d.startStop=function(a,b){a!==!0&&(a=!1),d.playing=a,a&&!b&&(d.jQueryel.trigger("slideshow_start",d),d.slideshow=!0),e.buildStartStop&&(d.jQuerystartStop.toggleClass("playing",a).find("span").html(a?e.stopText:e.startText),parseInt(d.jQuerystartStop.find("span").css("text-indent"),10)<0&&d.jQuerystartStop.addClass(e.tooltipClass).attr("title",a?e.stopText:e.startText)),a?(d.clearTimer(!0),d.timer=d.win.setInterval(function(){e.isVideoPlaying(d)?e.resumeOnVideoEnd||d.startStop():d.goForward(!0)},e.delay)):d.clearTimer()},d.init()},a.anythingSlider.defaults={theme:"default",expand:!1,resizeContents:!0,vertical:!1,showMultiple:!1,easing:"swing",buildArrows:!0,buildNavigation:!0,buildStartStop:!0,toggleArrows:!0,toggleControls:!1,startText:"Start",stopText:"Stop",forwardText:"»",backText:"«",tooltipClass:"tooltip",enableArrows:!0,enableNavigation:!0,enableStartStop:!0,enableKeyboard:!0,startPanel:1,changeBy:1,hashTags:!0,infiniteSlides:!0,navigationFormatter:null,navigationSize:!1,autoPlay:!1,autoPlayLocked:!0,autoPlayDelayed:!1,pauseOnHover:!1,stopAtEnd:!1,playRtl:!1,delay:5e3,resumeDelay:15e3,animationTime:600,delayBeforeAnimate:0,clickForwardArrow:"click",clickBackArrow:"click",clickControls:"click focusin",clickSlideshow:"click",resumeOnVideoEnd:!0,resumeOnVisible:!0,addWmodeToObject:"opaque",isVideoPlaying:function(a){return!1}},a.fn.anythingSlider=function(b,c){return this.each(function(){var d,e=a(this).data("AnythingSlider");(typeof b).match("object|undefined")?e?e.updateSlider():new a.anythingSlider(this,b):/\d/.test(b)&&!isNaN(b)&&e?(d=typeof b=="number"?b:parseInt(a.trim(b),10),d>=1&&d<=e.pages&&e.gotoPage(d,!1,c)):/^[#|.]/.test(b)&&a(b).length&&e.gotoPage(b,!1,c)})}})(jQuery)